<HTML>
    <head>

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Hpn app</title>
        <link rel="icon" type="image/x-icon" href="https://i.ibb.co/370nPM6/icon.png">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700&display=swap" rel="stylesheet">

        <style>
        
        body{
            margin: 0;
            padding: 0;
            background: #1e1f23;
            font-family: 'Inter';
        }

        #up_bar{
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 8%;
            background: #383840FF;
            border-end-end-radius: 12px;
            border-end-start-radius: 12px
        }

        #home_page{
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: start;
            height: 84%;
            overflow: auto;
        }


        #under_bar{
          display: flex; 
          justify-content: center; 
          align-items: center; 
          background-color: #383840FF; 
          height: 8%;
          border-top-left-radius: 15px;
          border-top-right-radius: 15px;
       }


       #log_interface{
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100%;
        width: 100%;
       }


       #account_interface{
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: start;
        height: 84%;
        width: 100%;
        overflow: auto;
       }

       #mint_interface{
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: start;
        height: 84%;
        width: 100%;
        overflow: auto;
       }


       #invite_interface{
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: start;
        height: 84%;
        width: 100%;
        overflow: auto;
       }

       .under_bar_button{
        background-color: transparent; 
        font-weight: bold; 
        border: none; 
        display: flex; 
        flex-direction: column; 
        align-items: center; 
        color: white;
        font-family: 'Inter';
       }

       .card1{
        display: flex;
        flex-direction: column;
        background-color: #383840FF;
        color: white; 
        border-radius: 12px; 
        width: 90%;
       }



       /*CERCHIO AMICI INVITATI*/
       
       .progress-ring {
  width: 100px;
  height: 100px;
  position: relative;
}

.progress-ring__svg {
  transform: rotate(-90deg);
}

.progress-ring__background {
  fill: none;
  stroke: lightgray; /* Colore dello sfondo */
  stroke-width: 12px;
}

.progress-ring__circle {
  fill: transparent;
  stroke: #f84f3a;
  stroke-width: 12px;
  stroke-dasharray: 251.2; /* Circonferenza del cerchio: 2 * π * r */
  stroke-dashoffset: calc(251.2 - (251.2 * 8 / 100)); /* Percentuale desiderata */
  transition: stroke-dashoffset 0.3s ease;
}


    /*LOGIN_SIGN_UP_PAGE*/

    
.form {
  width: 85%;
  font-family: 'Inter';
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding-bottom: 0.4em;
  background-color: #383840FF;
  border-radius: 15px;
  padding: 0;
  margin: 0;
}

#heading {
  text-align: center;
  margin: 2em;
  color: rgb(255, 255, 255);
  font-size: 1.2em;
}

.field {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5em;
  border-radius: 25px;
  padding: 0.6em;
  border: none;
  outline: none;
  color: white;
  background-color: rgb(70, 70, 77);
  margin-left: 30px;
  margin-right: 30px;
}

.input-icon {
  height: 1.3em;
  width: 1.3em;
  fill: white;
}

.input-field {
  font-family: 'Inter';
  background: none;
  border: none;
  outline: none;
  width: 100%;
  color: white;
}

.form .btn {
  display: flex;
  justify-content: center;
  flex-direction: row;
  margin-top: 2.5em;
}

.button1 {
  font-family: 'Inter';
  padding: 0.5em;
  padding-left: 1.1em;
  padding-right: 1.1em;
  border-radius: 5px;
  margin-right: 0.5em;
  border: none;
  outline: none;
  transition: .4s ease-in-out;
  background-color: rgb(70, 70, 77);
  color: white;
}

.button1:hover {
  background-color: rgb(46, 46, 61);
  color: white;
}

.button2 {
  font-family: 'Inter';
  padding: 0.5em;
  padding-left: 2.3em;
  padding-right: 2.3em;
  border-radius: 5px;
  border: none;
  outline: none;
  transition: .4s ease-in-out;
  background-color: rgb(70, 70, 77);
  color: white;
}

.button2:hover {
  background-color: rgb(46, 46, 61);
  color: white;
}


    
       /*SPINNER MINING*/


       .spinner {
  width: 70.4px;
  height: 70.4px;
  --clr: #f84f3a;
  --clr-alpha: rgb(247, 197, 159,.1);
  animation: spinner 6s infinite ease;
  transform-style: preserve-3d;
}

.spinner > div {
  background-color: var(--clr-alpha);
  height: 100%;
  position: absolute;
  width: 100%;
  border: 3.5px solid var(--clr);
}

.spinner div:nth-of-type(1) {
  transform: translateZ(-35.2px) rotateY(180deg);
}

.spinner div:nth-of-type(2) {
  transform: rotateY(-270deg) translateX(50%);
  transform-origin: top right;
}

.spinner div:nth-of-type(3) {
  transform: rotateY(270deg) translateX(-50%);
  transform-origin: center left;
}

.spinner div:nth-of-type(4) {
  transform: rotateX(90deg) translateY(-50%);
  transform-origin: top center;
}

.spinner div:nth-of-type(5) {
  transform: rotateX(-90deg) translateY(50%);
  transform-origin: bottom center;
}

.spinner div:nth-of-type(6) {
  transform: translateZ(35.2px);
}

@keyframes spinner {
  0% {
    transform: rotate(45deg) rotateX(-25deg) rotateY(25deg);
  }

  50% {
    transform: rotate(45deg) rotateX(-385deg) rotateY(25deg);
  }

  100% {
    transform: rotate(45deg) rotateX(-385deg) rotateY(385deg);
  }
}

         

        /*START MINING BUTTON*/

        .button {
  position: relative;
  overflow: hidden;
  height: 3rem;
  padding: 0 2rem;
  border-radius: 1.5rem;
  background: #3d3a4e;
  background-size: 400%;
  color: #fff;
  border: none;
}

.button:hover::before {
  transform: scaleX(1);
}

.button-content {
  position: relative;
  z-index: 1;
}

.button::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  transform: scaleX(0);
  transform-origin: 0 50%;
  width: 100%;
  height: inherit;
  border-radius: inherit;
  background: linear-gradient(
    82.3deg,
    #f84f3a 10.8%,
    #f84f3a) 94.3% ;
  transition: all 0.475s;
}







        </style>


        </head>

        <body>
            



          <div id="log_interface" style="display: flex;">
             

            <img src="https://i.ibb.co/jM7d8kZ/hpn-logo.png" style="margin-bottom: 30px; height: 20%; ">


              <form class="form">
                <p id="heading">Accesso</p>
                <div class="field">
                  <input id="access_email" autocomplete="off" placeholder="E-mail" class="input-field" type="text">
                </div>
                <div class="field">
                  <input id="access_password" placeholder="Password" class="input-field" type="password">
                </div>
                <div class="btn">
                  <button class="button1" type="button" onclick="login()">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Login&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</button>
                  <button class="button2" type="button" onclick="register()">Registrati</button>
                </div>
                <button id="forgot_password_button" style="background-color: transparent; border-color: transparent; color: white; font-family: 'Inter'; margin-bottom: 50px;">Password dimenticata?</button>
            </form>




            </div>





          <div id="logged_interface">
           



      <div id="up_bar">
        <div style="margin-inline-start: 20px;"></div>
        <button id="notifications_button" class="under_bar_button"><i class="material-icons" style="color: white; font-size: 35px;">notifications</i></button>
        <div style="flex: 1;"></div>
        <img src="https://i.ibb.co/Vv5Swjk/trasparent-hpn-logo.png"  style="width: 80px; margin-top: 5px;">
        <div style="flex: 1;"></div>
        <button id="account_button" class="under_bar_button"><i class="material-icons" style="color: white; font-size: 34px;">account_circle</i></button>
        <div style="margin-inline-start: 20px;"></div>
      </div>





         <div id="home_page">
 
          
            <div class="card1" style="margin-top: 40px;">
                <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-between; margin-bottom: 1px;">
                <div>
                <h4 style="margin-left: 20px; margin-bottom: 5px; margin-top: 20px;">Bilancio:</h4>
                <p style="margin-left: 20px; font-size: 30px; margin-top: 5px; margin-bottom: 10px;">0.92 HPT</p>
                </div>
                <img src="https://i.ibb.co/xmJ65Tf/human-power-token.png" style="width: 50px; height: 50px; margin-right: 20px;">
                </div>
            </div>


            <div class="card1" style="margin-top: 20px;">
            <h4 style="margin-left: 15px; margin-bottom: 2px;">Aggiornamenti</h4>
            <p style="margin-left: 15px; margin-top: 5px; ">Benvenuto nella prima versione web di Hpn App!</p>
            </div>



          
           
            <div class="card1" style="width: 90%; height: auto; margin-top: 20px;">
              <h4 style="margin-left: 15px; margin-bottom: 0px;">Amici invitati</h4>
              <p style="margin-left: 15px; margin-top: 5px; margin-bottom: 0px;">0/10</p>
              <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; margin-bottom: 10px;">
                <div class="progress-ring">
                  <svg class="progress-ring__svg" width="100" height="100">
                    <circle class="progress-ring__background" cx="50" cy="50" r="40"></circle>
                    <circle class="progress-ring__circle" cx="50" cy="50" r="40"></circle>
                  </svg>
                </div>
            </div>
          </div>


        <div class="card1" style="margin-top: 20px; margin-bottom: 20px;">
          <h4 style="margin-left: 10px; margin-bottom: 0px;">Resta connesso</h4>
          <p style="margin-left: 10px; margin-top: 8px;">Entra a far parte della nostra comunity sul web!</p>
          <a style="margin-left: 10px; margin-bottom: 10px;" href="https://t.me/+xVjWqV3lsskyYTU0"><img style="width: 40px;" src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Telegram_logo.svg/2048px-Telegram_logo.svg.png"></a>
        </div>


    

        </div>



        

        <div id="invite_interface">


          <img src="https://i.ibb.co/dBP1JMY/comunity-icon.png" style="width: 200px; margin-top: 20px;">
          <div class="card1" style="margin-top: 20px;">
            <h4 style="margin-left: 10px; margin-bottom: 0px;">Invita un amico</h4>
            <p style="margin-left: 10px; margin-bottom: 2px; margin-right: 5px; font-size: 15px;">Condividi il tuo codice referral da inserire al momento della registrazione</p>
            <div style="display: flex; flex-direction: row; align-items: center; justify-content: center;">
              <p id="uid_paragraph" style="color: white; font-family: 'Inter'; font-size: 12px; width: 60%; overflow: hidden;"></p>
              <button onclick="copyUserId()" style="background-color: transparent;border: transparent ;">
                <i class="material-icons" style="color: white; font-size: 25px; background-color: transparent;">content_copy</i>
              </button>
            </div>
          </div>


        <div class="card1" style="width: 90%; height: auto; margin-top: 20px;">
          <h4 style="margin-left: 15px; margin-bottom: 0px;">Amici invitati</h4>
          <p style="margin-left: 15px; margin-top: 5px; margin-bottom: 0px;">0/10</p>
          <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; margin-bottom: 10px;">
           
            <div class="progress-ring">
              <svg class="progress-ring__svg" width="100" height="100">
                <circle class="progress-ring__background" cx="50" cy="50" r="40"></circle>
                <circle class="progress-ring__circle" cx="50" cy="50" r="40"></circle>
              </svg>
            </div>
            
        </div>
      </div>


        <div class="card1" style="margin-top: 20px; margin-bottom: 20px;">
          <h4 style="margin-left: 10px; margin-bottom: 0px;">Regolamento</h4>
          <p style="margin-left: 10px; margin-right: 5px; margin-bottom: 0px; font-size: 15px;">Ogni volta che inviti un amico il contatore si aggiorna, ad ogni raggiungimento dei 10 amici ottieni una ricompensa di 1 HPT</p>
          <p style="margin-left: 10px; margin-right: 5px; margin-top: 5px; font-size: 15px;">Ogni volta che un tuo amico minta ottieni l'equivalente del 10% del suo mint senza sottrarlo</p>
        </div>



         
          
            
          
        </div>
         
     



            <div id="mint_interface">



              <div id="in_mining" style="height: 100%; width: 100%; display: none; flex-direction: column; align-items: center;">
              <div class="spinner" style="margin-top: 80px; margin-bottom: 50px;">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
              </div>


              <h2 style="color: white;">Mintando...</h2>
             
              <div class="countdown" style="display: flex; flex-direction: row; align-items: center; justify-content: center; color: white; font-family: 'Inter';">
                <p style="color: white; margin-right: 15px;">Mancano</p>
              
                <div id="minutes" class="countdown-item" style="margin-right: 0px;">
                    <p class="countdown-number">05</p>
                </div>
                <p style="margin-left: 5px;">minuti</p>
                <p style="margin-left: 10px; margin-right: 10px;">e</p>
                <div id="seconds" class="countdown-item">
                    <p class="countdown-number">00</p>
                </div>
                <p style="margin-left: 5px;">secondi</p>
            </div>



              <div style="border-radius: 12px; background: white; width: 90%; height: 10%; margin-bottom: 20px;">
              </div>
              
            </div>

         


          <div id="non_in_mining">

            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
            <img src="https://i.ibb.co/wsnd9kM/mint-animation-stopped.png" style="width: 300px;">
            <h2 style="color: white; margin-bottom: 0px; margin-top: 10px;">Minta</h2>
            <p style="color: white; margin-top: 15px;">Sessione da 5 minuti</p>
         
            <button id="start_mint_button" class="button" style="margin-top: 20px;">
              <span style="font-family: 'Inter';" class="button-content">Minta</span>
          </button>
          </div>

       
          </div>

        </div>




              <div id="account_interface">
                <div style="display: flex; flex-direction: row;">
                  <button style="background-color: transparent; border: transparent; color: white;">Minta</button>
                </div>
              </div>



            <div id="under_bar">
                <div style="margin-inline-start: 20px;"></div>
                <button id="invite_button" class="under_bar_button" style="font-size: 12px;">
                <i class="material-icons" style="font-size: 35px;">groups</i>Invita</button>
                <div style="flex: 1;"></div>
                <button id="home_button" class="under_bar_button" style="font-size: 12px;">
                <i class="material-icons" style="font-size: 35px;">home</i>Home</button>
                <div style="flex: 1;"></div>
                <button id="mint_button" class="under_bar_button" style="font-size: 12px;">
                <i class="material-icons" style="font-size: 35px;">rocket_launch</i>Minta</button>
                <div style="margin-inline-start: 20px;"></div>
            </div>


          </div>

           
          


            <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
            <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-auth.js"></script>
            <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-database.js"></script>
       <script>  
       
 document.getElementById("home_button").addEventListener("click", function() {

       
        document.getElementById("mint_interface").style.display = "none";
        document.getElementById("account_interface").style.display = "none";
        document.getElementById("invite_interface").style.display = "none";
        document.getElementById("home_page").style.display = "flex";
   

});

       
document.getElementById("mint_button").addEventListener("click", function() {

       
        document.getElementById("account_interface").style.display = "none";
        document.getElementById("invite_interface").style.display = "none";
        document.getElementById("home_page").style.display = "none";
        document.getElementById("mint_interface").style.display = "flex";
       

});


document.getElementById("account_button").addEventListener("click", function() {


        document.getElementById("invite_interface").style.display = "none";
        document.getElementById("home_page").style.display = "none";
        document.getElementById("mint_interface").style.display = "none";
        document.getElementById("account_interface").style.display = "flex";

});



document.getElementById("invite_button").addEventListener("click", function() {

        document.getElementById("home_page").style.display = "none";
        document.getElementById("mint_interface").style.display = "none";
        document.getElementById("account_interface").style.display = "none";
        document.getElementById("invite_interface").style.display = "flex";

});



document.getElementById("start_mint_button").addEventListener("click", function() {

       
document.getElementById("non_in_mining").style.display = "none";
document.getElementById("in_mining").style.display = "flex";
startCountdown();


});






    // Inizializza la tua app Firebase
    var firebaseConfig = {
      apiKey: "AIzaSyASzh_NmyW8BGPX8bdnPCe8rRR7Ac_zOJ8",
      authDomain: "https://hpn-database-it-default-rtdb.firebaseio.com/",
      projectId: "hpn-database-it",
      storageBucket: "hpn-database-it.appspot.com",
      messagingSenderId: "SENDER_ID",
      appId: "1:879095328386:android:7bcf5f4dabb35a6d250e9b"
    };

    firebase.initializeApp(firebaseConfig);
    firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL)
  .then(function() {


    // Verifica dello stato di autenticazione all'avvio
    firebase.auth().onAuthStateChanged(function(user) {
      if (user) {
        // L'utente è già loggato
        console.log("Utente già loggato");
        document.getElementById("log_interface").style.display = "none";
        document.getElementById("logged_interface").style.display = "block";
        document.getElementById("mint_interface").style.display = "none";
        document.getElementById("account_interface").style.display = "none";
        document.getElementById("invite_interface").style.display = "none";
        document.getElementById("home_page").style.display = "flex";
        document.getElementById("under_bar").style.display = "flex";
        document.getElementById("up_bar").style.display = "flex";


         // Ottieni l'UID dell'utente
    var uid = user.uid; 

// Aggiorna il testo del paragrafo con l'UID
var uidParagraph = document.getElementById("uid_paragraph");
uidParagraph.textContent = uid;

// Aggiungi un attributo data-clipboard-text al pulsante con l'UID
var copyButton = document.querySelector("button[onclick='copyUserId()']");
copyButton.setAttribute("data-clipboard-text", uid);




      } else {
        // L'utente non è loggato
        console.log("Utente non loggato");
        document.getElementById("log_interface").style.display = "flex";
        document.getElementById("logged_interface").style.display = "none";
      }
    });

  })
  .catch(function(error) {
    console.log(error);
  });

  


     // Funzione per copiare l'UID negli appunti
     function copyUserId() {
      var uid = document.getElementById("uid_paragraph").textContent;
      var tempInput = document.createElement("input");
      tempInput.value = uid;
      document.body.appendChild(tempInput);
      tempInput.select();
      document.execCommand("copy");
      document.body.removeChild(tempInput);
      alert("Codice referral copiato negli appunti");
      }

  
  

 // Funzione di registrazione
 function register() {
      var email = document.getElementById("access_email").value;
      var password = document.getElementById("access_password").value;

      firebase.auth().createUserWithEmailAndPassword(email, password)
        .then(function(user) {
          // Registrazione avvenuta con successo
          console.log("Registrazione avvenuta con successo");

          // Nascondi il container iniziale
          document.getElementById("access_screen").style.display = "none";
          // Mostra il container vuoto
          document.getElementById("home_page").style.display = "block";
        })

        .catch(function(error) {
    // Gestisci gli errori di registrazione
      var errorCode = error.code;
      var errorMessage = error.message;
    if (errorCode === "auth/email-already-in-use") {
      alert("L'indirizzo email è già in uso. Si prega di utilizzare un altro indirizzo.");
    } else {
      alert("Errore durante la registrazione. Si prega di riprovare più tardi.");
    }
   });
    }



      // Funzione di accesso
function login() {
  var email = document.getElementById("access_email").value;
  var password = document.getElementById("access_password").value;

  firebase.auth().signInWithEmailAndPassword(email, password)
    .then(function(user) {
      // Accesso avvenuto con successo
      alert("Accesso avvenuto con successo");

      document.getElementById("access_screen").style.display = "none";
      document.getElementById("home_page").style.display = "block";
    })

    .catch(function(error) {
      // Gestisci gli errori di accesso
      var errorMessage = error.message;
      if (errorMessage.includes("password")) {
        alert("Password errata. Si prega di riprovare");
      } else {
        alert("Errore durante l'accesso: " + errorMessage);
      }
    });
}




    //TIMER MINTING

    const countdownMinutes = 5; 
    const countdownSeconds = 0; 

    let countdownInterval;
    let startButtonTimeout;
    

// Funzione per avviare il countdown
function startCountdown() {


    // Calcola la data di scadenza
    const countdownDate = new Date();
    countdownDate.setMinutes(countdownDate.getMinutes() + countdownMinutes);
    countdownDate.setSeconds(countdownDate.getSeconds() + countdownSeconds);
    const countdownEndTime = countdownDate.getTime();

    // Funzione per aggiornare il countdown
    function updateCountdown() {
        const currentDate = new Date().getTime();
        const timeRemaining = countdownEndTime - currentDate;

        if (timeRemaining <= 0) {
            clearInterval(countdownInterval);
            document.getElementById("minutes").innerHTML = "00";
            document.getElementById("seconds").innerHTML = "00";
            document.getElementById("in_mining").style.display = "none"; 
            document.getElementById("non_in_mining").style.display = "flex";


        } else {
            const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);

            document.getElementById("minutes").innerHTML = String(minutes).padStart(2, "0");
            document.getElementById("seconds").innerHTML = String(seconds).padStart(2, "0");
        }
    }

    // Aggiorna il countdown ogni secondo
    countdownInterval = setInterval(updateCountdown, 1000);

    // Inizializza il countdown all'avvio
    updateCountdown();
}



       </script>

        </body>
</html>
